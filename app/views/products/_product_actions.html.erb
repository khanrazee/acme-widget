<div class="product-actions">
  <% if user_signed_in? %>
    <% if is_customer? %>
      <div class="card">
        <div class="card-body">
          <%= form_with url: add_to_cart_cart_path, method: :patch, local: true, class: "add-to-cart-form" do |f| %>
            <%= f.hidden_field :product_id, value: product.id %>
            <div class="quantity-selector">
              <%= f.label :quantity, "Quantity:", class: "form-label" %>
              <%= f.number_field :quantity, value: 1, min: 1, max: 15, class: "quantity-input form-control" %>
            </div>
            <div class="mt-3">
              <%= f.button type: :submit, class: "btn btn-primary btn-lg w-100" do %>
                <i class="fa fa-shopping-cart"></i> Add to Cart
              <% end %>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>
    
    <% if is_admin? %>
      <div class="product-management-actions">
        <div class="d-flex justify-content-between w-100">
          <%= link_to edit_product_path(product), class: "btn btn-info" do %>
            <i class="fa fa-edit"></i> Edit Product
          <% end %>

          <%= button_to product_path(product),
                        method: :delete,
                        data: { turbo_confirm: "Are you sure you want to delete this product?" },
                        class: "btn btn-danger" do %>
            <i class="fa fa-trash"></i> Delete
          <% end %>
        </div>
      </div>
    <% end %>
  <% end %>
</div>
